<!DOCTYPE html>
<html>
    <head>
        <title>Upload</title>
        
        <script>
            function upload_image() {
                console.log('btn clicked');
                    var file = document.getElementById('upload').files[0];
                    console.log('upload method clicked');
                    var xhr = new XMLHttpRequest();
                     // not necessary if you create scopes like this
                    xhr.onreadystatechange = function(e) {
                        if ( 4 == this.readyState ) {
                            console.log(['xhr upload complete', e]);
                        }
                        else{
                            console.log('error occured');
                        }
                    };
                    
                    var url='https://localhost:3443/imageUpload';
                    xhr.open('post', url, true);
                    xhr.withCredentials = true;
                    
                    var token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZGQ2OWI3NDIzZTA4ZDIxMGM0YzVlYjgiLCJpYXQiOjE1NzQzNTkxMDgsImV4cCI6MTU3NDM2MjcwOH0.DURuneq-V-kIS_Bo9Eb_Ob7kDlHEUtYzNVphFtaf6FE";
                    xhr.setRequestHeader("Authorization","bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZGQ3NzZkNmU3NWY4MzM1ZThkMDU2ZDIiLCJpYXQiOjE1NzQ0MDE3ODgsImV4cCI6MTU3NDQwNTM4OH0.G2cvJd9QmgOFTWuEQSKadgTc0dnmN_VaoX2Is9E7-mA");
                    var formData = new FormData();
                    formData.append("imageFile", file);
                    xhr.send(formData);    
            }
        </script>
        
    </head>
    <body>
        
            Upload File:<br>
            <input type="file" name="upload" id="upload"><br>
            <br>
            <button id="uploadBtn">Upload</button>
            <br>
            <button onclick="upload_image()">Upload By JavaScript</button>
          
    </body>
</html>
